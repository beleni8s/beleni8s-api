<div id="handbook-content" role="article"><h2>Mixins</h2><article><div class="whitespace raised"><div class="markdown"><p>Along with traditional OO hierarchies, another popular way of building up classes from reusable components is to build them by combining simpler partial classes.
You may be familiar with the idea of mixins or traits for languages like Scala, and the pattern has also reached some popularity in the JavaScript community.</p>
<h2 id="how-does-a-mixin-work" style="position:relative;"><a href="#how-does-a-mixin-work" aria-label="how does a mixin work permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How Does A Mixin Work?</h2>
<p>The pattern relies on using Generics with class inheritance to extend a base class.
TypeScript’s best mixin support is done via the class expression pattern.
You can read more about how this pattern works in <a href="https://justinfagnani.com/2015/12/21/real-mixins-with-javascript-classes/">JavaScript here</a>.</p>
<p>To get started, we’ll need a class which will have the mixin’s applied on top of:</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Sprite">Sprite</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #001080"><data-lsp lsp="(property) Sprite.name: string">name</data-lsp></span><span style="color: #000000"> = </span><span style="color: #A31515">""</span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #001080"><data-lsp lsp="(property) Sprite.x: number">x</data-lsp></span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #001080"><data-lsp lsp="(property) Sprite.y: number">y</data-lsp></span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span></div>
<div class="line"><span style="color: #000000">  </span><span style="color: #0000FF">constructor</span><span style="color: #000000">(</span><span style="color: #001080"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">) {</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) Sprite.name: string">name</data-lsp></span><span style="color: #000000"> = </span><span style="color: #001080"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">  }</span></div><div class="line"><span style="color: #000000">}</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/MYGwhgzhAEDKAOAnAlgFwKbQN4ChrQDswBbTAXmgCJKBuPaAD2goAY78BPZ6Nne4APYEIqRAFdgqAYgAURUgC5oIlAQDmASmz18qABbIIAOnnlCJdO2gBfHNaA">Try</a></div></pre>
<p>Then you need a type and a factory function which returns a class expression extending the base class.</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #008000">// To get started, we need a type which we'll use to extend</span></div><div class="line"><span style="color: #008000">// other classes from. The main responsibility is to declare</span></div><div class="line"><span style="color: #008000">// that the type being passed in is a class.</span></div>
<div class="line"><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type Constructor = new (...args: any[]) => {}">Constructor</data-lsp></span><span style="color: #000000"> = </span><span style="color: #AF00DB">new</span><span style="color: #000000"> (...</span><span style="color: #001080"><data-lsp lsp="(parameter) args: any[]">args</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">any</span><span style="color: #000000">[]) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {};</span></div>
<div class="line"><span style="color: #008000">// This mixin adds a scale property, with getters and setters</span></div><div class="line"><span style="color: #008000">// for changing it with an encapsulated private property:</span></div>
<div class="line"><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="function Scale&amp;lt;TBase extends Constructor>(Base: TBase): {&amp;#13;    new (...args: any[]): Scaling;&amp;#13;    prototype: Scale&amp;lt;any>.Scaling;&amp;#13;} &amp;amp; TBase">Scale</data-lsp></span><span style="color: #000000">&lt;</span><span style="color: #267F99"><data-lsp lsp="(type parameter) TBase in Scale&amp;lt;TBase extends Constructor>(Base: TBase): {&amp;#13;    new (...args: any[]): Scaling;&amp;#13;    prototype: Scale&amp;lt;any>.Scaling;&amp;#13;} &amp;amp; TBase">TBase</data-lsp></span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type Constructor = new (...args: any[]) => {}">Constructor</data-lsp></span><span style="color: #000000">&gt;(</span><span style="color: #001080"><data-lsp lsp="(parameter) Base: TBase extends Constructor">Base</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99"><data-lsp lsp="(type parameter) TBase in Scale&amp;lt;TBase extends Constructor>(Base: TBase): {&amp;#13;    new (...args: any[]): Scaling;&amp;#13;    prototype: Scale&amp;lt;any>.Scaling;&amp;#13;} &amp;amp; TBase">TBase</data-lsp></span><span style="color: #000000">) {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="(local class) Scaling">Scaling</data-lsp></span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="(parameter) Base: TBase extends Constructor">Base</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #008000">// Mixins may not declare private/protected properties</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #008000">// however, you can use ES2020 private fields</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #001080"><data-lsp lsp="(property) Scaling._scale: number">_scale</data-lsp></span><span style="color: #000000"> = </span><span style="color: #098658">1</span><span style="color: #000000">;</span></div>
<div class="line"><span style="color: #000000">    </span><span style="color: #795E26"><data-lsp lsp="(method) Scaling.setScale(scale: number): void">setScale</data-lsp></span><span style="color: #000000">(</span><span style="color: #001080"><data-lsp lsp="(parameter) scale: number">scale</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">) {</span></div><div class="line"><span style="color: #000000">      </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) Scaling._scale: number">_scale</data-lsp></span><span style="color: #000000"> = </span><span style="color: #001080"><data-lsp lsp="(parameter) scale: number">scale</data-lsp></span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">    }</span></div>
<div class="line"><span style="color: #000000">    </span><span style="color: #0000FF">get</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="(property) Scaling.scale: number">scale</data-lsp></span><span style="color: #000000">(): </span><span style="color: #267F99">number</span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">      </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) Scaling._scale: number">_scale</data-lsp></span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">    }</span></div><div class="line"><span style="color: #000000">  };</span></div><div class="line"><span style="color: #000000">}</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/PTAEBUHtQcwUwC6gM4IIYCcFwCYBpQB3OUAOzl1DVAQE8AHEwgCwEsBjZouAcgBs+oAK7ISCaHAAe2UjgBQIUJATM4GUOz5pko5KABmGSAFsAdBFWhjaVqVAY4yepFLJWAI1Z9WdUKz3ioDhwmphwCmAqaEgqYgwk7nC2MKD02qI4fnb+VBpaOqZycnSMoADCLqgYQuzi6gC8ZHCEoAAUph2YMMgAXFSktADaALoAlKD1AHygAN4AvgDcRYrgbHrGrJK2VDg4etTI7Gh8JPRGjFi0BIQ+XPAI2Bj7siiIj8gRBpDqnGikMMk-Egbip+qA4KQjvRkEItNhMmdWAA3aKnc5qOg9Ir6ISQhCsFygADKRxOAB5wAAhbQkKQyPblSoIaq1b6TVrU0R9Kk08YzOSgeyIIQYOyhHTE0mAukQhmckj8wWCxQAWU2tnWaFoZGUQRCWgcqQwyNRwDOyhC8KNkAu+McAqVimYkGISLUBFokCEGj+wlEoAAokSAEwABjDRpN2AMrDgfD2DsFAH1DscSI0AIxLROvBAktOtVMnPqkITGRIYPk5wUqfymFOk9MoRtLJWgOZFNv3ZsF0YlssV2bVoUIEV2WvIetFuCtpUdwWLORzIA">Try</a></div></pre>
<p>With these all set up, then you can create a class which represents the base class with mixins applied:</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #008000">// Compose a new class from the Sprite class,</span></div><div class="line"><span style="color: #008000">// with the Mixin Scale applier:</span></div><div class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1"><data-lsp lsp="const EightBitSprite: {&amp;#13;    new (...args: any[]): Scale&amp;lt;typeof Sprite>.Scaling;&amp;#13;    prototype: Scale&amp;lt;any>.Scaling;&amp;#13;} &amp;amp; typeof Sprite">EightBitSprite</data-lsp></span><span style="color: #000000"> = </span><span style="color: #795E26"><data-lsp lsp="function Scale&amp;lt;typeof Sprite>(Base: typeof Sprite): {&amp;#13;    new (...args: any[]): Scale&amp;lt;typeof Sprite>.Scaling;&amp;#13;    prototype: Scale&amp;lt;any>.Scaling;&amp;#13;} &amp;amp; typeof Sprite">Scale</data-lsp></span><span style="color: #000000">(</span><span style="color: #001080"><data-lsp lsp="class Sprite">Sprite</data-lsp></span><span style="color: #000000">);</span></div>
<div class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1"><data-lsp lsp="const flappySprite: Scale&amp;lt;typeof Sprite>.Scaling &amp;amp; Sprite">flappySprite</data-lsp></span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="const EightBitSprite: new (name: string) => Scale&amp;lt;typeof Sprite>.Scaling &amp;amp; Sprite">EightBitSprite</data-lsp></span><span style="color: #000000">(</span><span style="color: #A31515">"Bird"</span><span style="color: #000000">);</span></div><div class="line"><span style="color: #001080"><data-lsp lsp="const flappySprite: Scale&amp;lt;typeof Sprite>.Scaling &amp;amp; Sprite">flappySprite</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) Scaling&amp;lt;typeof Sprite>.setScale(scale: number): void">setScale</data-lsp></span><span style="color: #000000">(</span><span style="color: #098658">0.8</span><span style="color: #000000">);</span></div><div class="line"><span style="color: #001080"><data-lsp lsp="var console: Console">console</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) Console.log(...data: any[]): void">log</data-lsp></span><span style="color: #000000">(</span><span style="color: #001080"><data-lsp lsp="const flappySprite: Scale&amp;lt;typeof Sprite>.Scaling &amp;amp; Sprite">flappySprite</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) Scaling.scale: number">scale</data-lsp></span><span style="color: #000000">);</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/MYGwhgzhAEDKAOAnAlgFwKbQN4ChrQDswBbTAXmgCJKBuPaAD2goAY78BPZ6Nne4APYEIqRAFdgqAYgAURUgC5oIlAQDmASmz18qABbIIAOnnlCJdO2gBfHLdQd4mAMJCVEqYm4F0Ad2gyRkFgiGoQSmAEHADaALpaZAB82NZ0AGZiBJLIQnDAYCDoADwAKgBCkJjoDBgEACYwrsKiHtKJMhUQ6ErllVq4+IjoqGKIBNCgkDCw+SDI6tDVtQ3QnZgD+NAA9FvQALLIDPMwxGBcBAKo0HXok0PQSMgAbmAYW0iXtxh1D4gCTohUMh0BAdNtdnoBL50E90IgADTQDgCMQTSLQMRdaAAUVgACYWATfs9Xpg0sCQA0wQB9CCzMwARjoYK6qBmBXQMjpHKUBDExAARnD+mDdAZjLT6dxuYUrPhbGC1MNlPSZBpefyhV4NptoEMRmNoPpDEZJRy5TZ6Kk7DgdtAALSO4BiVCO+223auYjwARYsCEPwTcBQaBpP7EI16TAIFAYINTeEe6C+NB6SOYA5HcbswrQMDweBzOEKHCCZo45BqPSoMpoGNoMw5zn1jAaZllkSh8AFjgtsw+fzYyvV2tsx4YGSUWuIOqUNs4NLd+C98foIyspsyFhGAAc847AkKRhAAjUMkX+eXffX9LbQA">Try</a></div></pre>
<h2 id="constrained-mixins" style="position:relative;"><a href="#constrained-mixins" aria-label="constrained mixins permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Constrained Mixins</h2>
<p>In the above form, the mixin’s have no underlying knowledge of the class which can make it hard to create the design you want.</p>
<p>To model this, we modify the original constructor type to accept a generic argument.</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #008000">// This was our previous constructor:</span></div><div class="line"><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type Constructor = new (...args: any[]) => {}">Constructor</data-lsp></span><span style="color: #000000"> = </span><span style="color: #AF00DB">new</span><span style="color: #000000"> (...</span><span style="color: #001080"><data-lsp lsp="(parameter) args: any[]">args</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">any</span><span style="color: #000000">[]) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {};</span></div><div class="line"><span style="color: #008000">// Now we use a generic version which can apply a constraint on</span></div><div class="line"><span style="color: #008000">// the class which this mixin is applied to</span></div><div class="line"><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type GConstructor&amp;lt;T = {}> = new (...args: any[]) => T">GConstructor</data-lsp></span><span style="color: #000000">&lt;</span><span style="color: #267F99"><data-lsp lsp="(type parameter) T in type GConstructor&amp;lt;T = {}>">T</data-lsp></span><span style="color: #000000"> = {}&gt; = </span><span style="color: #AF00DB">new</span><span style="color: #000000"> (...</span><span style="color: #001080"><data-lsp lsp="(parameter) args: any[]">args</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">any</span><span style="color: #000000">[]) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="(type parameter) T in type GConstructor&amp;lt;T = {}>">T</data-lsp></span><span style="color: #000000">;</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/PTAEBUAsEsGdQO4EN4HsCuAnUAHTBTAN2g3gGNUA7WAF03TJtUwC4AoGgTx31AGEqteo2agAvKEr4EoABQA6RUkwBzWC1BJKnANoBdAJTiAfKADeAXwDcbEKAByqGQl7pYvJKBX4pmaGVBCfExYEkpEGDJIUDItTRwcABtOTRjBOiRoShpQKlswGkheMkSUeARI6MK4UABbaAAPLNAapATE6HwAE1AmDm5eAHEBajoGJkwAHnBxcwtTCSkZBSVVdU1tfSMxU3ArIA">Try</a></div></pre>
<p>This allows for creating classes which only work with constrained base classes:</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type Positionable = new (...args: any[]) => {&amp;#13;    setPos: (x: number, y: number) => void;&amp;#13;}">Positionable</data-lsp></span><span style="color: #000000"> = </span><span style="color: #267F99"><data-lsp lsp="type GConstructor&amp;lt;T = {}> = new (...args: any[]) => T">GConstructor</data-lsp></span><span style="color: #000000">&lt;{ </span><span style="color: #795E26"><data-lsp lsp="(property) setPos: (x: number, y: number) => void">setPos</data-lsp></span><span style="color: #000000">: (</span><span style="color: #001080"><data-lsp lsp="(parameter) x: number">x</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">, </span><span style="color: #001080"><data-lsp lsp="(parameter) y: number">y</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000"> }&gt;;</span></div><div class="line"><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type Spritable = new (...args: any[]) => typeof Sprite">Spritable</data-lsp></span><span style="color: #000000"> = </span><span style="color: #267F99"><data-lsp lsp="type GConstructor&amp;lt;T = {}> = new (...args: any[]) => T">GConstructor</data-lsp></span><span style="color: #000000">&lt;</span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080"><data-lsp lsp="class Sprite">Sprite</data-lsp></span><span style="color: #000000">&gt;;</span></div><div class="line"><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type Loggable = new (...args: any[]) => {&amp;#13;    print: () => void;&amp;#13;}">Loggable</data-lsp></span><span style="color: #000000"> = </span><span style="color: #267F99"><data-lsp lsp="type GConstructor&amp;lt;T = {}> = new (...args: any[]) => T">GConstructor</data-lsp></span><span style="color: #000000">&lt;{ </span><span style="color: #795E26"><data-lsp lsp="(property) print: () => void">print</data-lsp></span><span style="color: #000000">: () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #267F99">void</span><span style="color: #000000"> }&gt;;</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/C4TwDgpgBA4gwgewHYGdgCcCuBjYD0A8AKlALxQDeAvgHxlRIQDuUAFAHScCG6A5igC4oXJCADaAXQCUZOkQDcAKGwAbLihRQAymHQBLYNAqKoDLgFto5AETWlpgB70ADPaggXSk1GzI0WXHxWJAsIIX89JF4ZY1NTYAALPRR2EMt6NIg3KkUcgHo8qABaEuxMYBKixVBIKAAFBBQDPWQuACMVK1hEVAwcPEIKKBQIYAbBNgchJExzNoh0ABp3adn59BlSOgA3BD0AEyhaJRroHX1gds76eD8+wMJThAAzbV0DCBoT8GgAGQReLwrl1br0AgMCEN3khgEJWJsdntDscgA">Try</a></div></pre>
<p>Then you can create mixins which only work when you have a particular base to build on:</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="function Jumpable&amp;lt;TBase extends Positionable>(Base: TBase): {&amp;#13;    new (...args: any[]): Jumpable;&amp;#13;    prototype: Jumpable&amp;lt;any>.Jumpable;&amp;#13;} &amp;amp; TBase">Jumpable</data-lsp></span><span style="color: #000000">&lt;</span><span style="color: #267F99"><data-lsp lsp="(type parameter) TBase in Jumpable&amp;lt;TBase extends Positionable>(Base: TBase): {&amp;#13;    new (...args: any[]): Jumpable;&amp;#13;    prototype: Jumpable&amp;lt;any>.Jumpable;&amp;#13;} &amp;amp; TBase">TBase</data-lsp></span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type Positionable = new (...args: any[]) => {&amp;#13;    setPos: (x: number, y: number) => void;&amp;#13;}">Positionable</data-lsp></span><span style="color: #000000">&gt;(</span><span style="color: #001080"><data-lsp lsp="(parameter) Base: TBase extends Positionable">Base</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99"><data-lsp lsp="(type parameter) TBase in Jumpable&amp;lt;TBase extends Positionable>(Base: TBase): {&amp;#13;    new (...args: any[]): Jumpable;&amp;#13;    prototype: Jumpable&amp;lt;any>.Jumpable;&amp;#13;} &amp;amp; TBase">TBase</data-lsp></span><span style="color: #000000">) {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="(local class) Jumpable">Jumpable</data-lsp></span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="(parameter) Base: TBase extends Positionable">Base</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #795E26"><data-lsp lsp="(method) Jumpable.jump(): void">jump</data-lsp></span><span style="color: #000000">() {</span></div><div class="line"><span style="color: #000000">      </span><span style="color: #008000">// This mixin will only work if it is passed a base</span></div><div class="line"><span style="color: #000000">      </span><span style="color: #008000">// class which has setPos defined because of the</span></div><div class="line"><span style="color: #000000">      </span><span style="color: #008000">// Positionable constraint.</span></div><div class="line"><span style="color: #000000">      </span><span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(property) setPos: (x: number, y: number) => void">setPos</data-lsp></span><span style="color: #000000">(</span><span style="color: #098658">0</span><span style="color: #000000">, </span><span style="color: #098658">20</span><span style="color: #000000">);</span></div><div class="line"><span style="color: #000000">    }</span></div><div class="line"><span style="color: #000000">  };</span></div><div class="line"><span style="color: #000000">}</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/C4TwDgpgBA4gwgewHYGdgCcCuBjYD0A8AKlALxQDeAvgHxlRIQDuUAFAHScCG6A5igC4oXJCADaAXQCUZOkQDcAKGwAbLihRQAymHQBLYNAqKoDLgFto5AETWlpgB70ADPaggXSk1GzI0WXHxWJAsIIX89JF4ZY1NTYAALPRR2EMt6NIg3KkUc0EgoAAUEFAM9ZC4AIxUrWERUDBw8QgooFAhgYsE2ByEkTHNKiHQAGnc+gaH0GVI6ADcEPQATKFolfOgdfWAqmvp4P0bAwg2EADNtXQMIGnXwaAAZBF5eXdqDhoDmglarpGAhKwZvNFis1ooAPQQqAAWjh2EwwDhMMUijOmCQuHKSCgACkBmA3sQAELqaAQByGJBLTRdMoVao3Vik9pCIgsiAxbzoDqYdA41TqTT48yExlQClUmlQDmUbymABWBKBcricShUCISU05j0DkiUCYehUKigyBUHiY+AA1lA9BcDHbNISNBAVlwoJUyfL1dDBRpDUlsAkoAl1G0Ol0oEsIGdIm7PRBsFxMO0zRdEhAfaYNXTgNi3j5DuguJFgOxs1BEsl2O1OiVWM4xgAmZxSNymHKdpRUIA">Try</a></div></pre>
<h2 id="alternative-pattern" style="position:relative;"><a href="#alternative-pattern" aria-label="alternative pattern permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Alternative Pattern</h2>
<p>Previous versions of this document recommended a way to write mixins where you created both the runtime and type hierarchies separately, then merged them at the end:</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #008000">// Each mixin is a traditional ES class</span></div><div class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Jumpable">Jumpable</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #795E26"><data-lsp lsp="(method) Jumpable.jump(): void">jump</data-lsp></span><span style="color: #000000">() {}</span></div><div class="line"><span style="color: #000000">}</span></div>
<div class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Duckable">Duckable</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #795E26"><data-lsp lsp="(method) Duckable.duck(): void">duck</data-lsp></span><span style="color: #000000">() {}</span></div><div class="line"><span style="color: #000000">}</span></div>
<div class="line"><span style="color: #008000">// Including the base</span></div><div class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Sprite&amp;#13;interface Sprite">Sprite</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #001080"><data-lsp lsp="(property) Sprite.x: number">x</data-lsp></span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #001080"><data-lsp lsp="(property) Sprite.y: number">y</data-lsp></span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">}</span></div>
<div class="line"><span style="color: #008000">// Then you create an interface which merges</span></div><div class="line"><span style="color: #008000">// the expected mixins with the same name as your base</span></div><div class="line"><span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Sprite&amp;#13;interface Sprite">Sprite</data-lsp></span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Jumpable">Jumpable</data-lsp></span><span style="color: #000000">, </span><span style="color: #267F99"><data-lsp lsp="class Duckable">Duckable</data-lsp></span><span style="color: #000000"> {}</span></div><div class="line"><span style="color: #008000">// Apply the mixins into the base class via</span></div><div class="line"><span style="color: #008000">// the JS at runtime</span></div><div class="line"><span style="color: #795E26"><data-lsp lsp="function applyMixins(derivedCtor: any, constructors: any[]): void">applyMixins</data-lsp></span><span style="color: #000000">(</span><span style="color: #001080"><data-lsp lsp="class Sprite">Sprite</data-lsp></span><span style="color: #000000">, [</span><span style="color: #001080"><data-lsp lsp="class Jumpable">Jumpable</data-lsp></span><span style="color: #000000">, </span><span style="color: #001080"><data-lsp lsp="class Duckable">Duckable</data-lsp></span><span style="color: #000000">]);</span></div>
<div class="line"><span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080"><data-lsp lsp="let player: Sprite">player</data-lsp></span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="constructor Sprite(): Sprite">Sprite</data-lsp></span><span style="color: #000000">();</span></div><div class="line"><span style="color: #001080"><data-lsp lsp="let player: Sprite">player</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) Jumpable.jump(): void">jump</data-lsp></span><span style="color: #000000">();</span></div><div class="line"><span style="color: #001080"><data-lsp lsp="var console: Console">console</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) Console.log(...data: any[]): void">log</data-lsp></span><span style="color: #000000">(</span><span style="color: #001080"><data-lsp lsp="let player: Sprite">player</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) Sprite.x: number">x</data-lsp></span><span style="color: #000000">, </span><span style="color: #001080"><data-lsp lsp="let player: Sprite">player</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) Sprite.y: number">y</data-lsp></span><span style="color: #000000">);</span></div>
<div class="line"><span style="color: #008000">// This can live anywhere in your codebase:</span></div><div class="line"><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="function applyMixins(derivedCtor: any, constructors: any[]): void">applyMixins</data-lsp></span><span style="color: #000000">(</span><span style="color: #001080"><data-lsp lsp="(parameter) derivedCtor: any">derivedCtor</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">any</span><span style="color: #000000">, </span><span style="color: #001080"><data-lsp lsp="(parameter) constructors: any[]">constructors</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">any</span><span style="color: #000000">[]) {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #001080"><data-lsp lsp="(parameter) constructors: any[]">constructors</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) Array&amp;lt;any>.forEach(callbackfn: (value: any, index: number, array: any[]) => void, thisArg?: any): void">forEach</data-lsp></span><span style="color: #000000">((</span><span style="color: #001080"><data-lsp lsp="(parameter) baseCtor: any">baseCtor</data-lsp></span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #267F99"><data-lsp lsp="var Object: ObjectConstructor">Object</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) ObjectConstructor.getOwnPropertyNames(o: any): string[]">getOwnPropertyNames</data-lsp></span><span style="color: #000000">(</span><span style="color: #267F99"><data-lsp lsp="(parameter) baseCtor: any">baseCtor</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="any">prototype</data-lsp></span><span style="color: #000000">).</span><span style="color: #795E26"><data-lsp lsp="(method) Array&amp;lt;string>.forEach(callbackfn: (value: string, index: number, array: string[]) => void, thisArg?: any): void">forEach</data-lsp></span><span style="color: #000000">((</span><span style="color: #001080"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">      </span><span style="color: #267F99"><data-lsp lsp="var Object: ObjectConstructor">Object</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) ObjectConstructor.defineProperty&amp;lt;any>(o: any, p: PropertyKey, attributes: PropertyDescriptor &amp;amp; ThisType&amp;lt;any>): any">defineProperty</data-lsp></span><span style="color: #000000">(</span></div><div class="line"><span style="color: #000000">        </span><span style="color: #267F99"><data-lsp lsp="(parameter) derivedCtor: any">derivedCtor</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="any">prototype</data-lsp></span><span style="color: #000000">,</span></div><div class="line"><span style="color: #000000">        </span><span style="color: #001080"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color: #000000">,</span></div><div class="line"><span style="color: #000000">        </span><span style="color: #267F99"><data-lsp lsp="var Object: ObjectConstructor">Object</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) ObjectConstructor.getOwnPropertyDescriptor(o: any, p: PropertyKey): PropertyDescriptor">getOwnPropertyDescriptor</data-lsp></span><span style="color: #000000">(</span><span style="color: #267F99"><data-lsp lsp="(parameter) baseCtor: any">baseCtor</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="any">prototype</data-lsp></span><span style="color: #000000">, </span><span style="color: #001080"><data-lsp lsp="(parameter) name: string">name</data-lsp></span><span style="color: #000000">) ||</span></div><div class="line"><span style="color: #000000">          </span><span style="color: #267F99"><data-lsp lsp="var Object: ObjectConstructor">Object</data-lsp></span><span style="color: #000000">.</span><span style="color: #795E26"><data-lsp lsp="(method) ObjectConstructor.create(o: object): any (+1 overload)">create</data-lsp></span><span style="color: #000000">(</span><span style="color: #0000FF">null</span><span style="color: #000000">)</span></div><div class="line"><span style="color: #000000">      );</span></div><div class="line"><span style="color: #000000">    });</span></div><div class="line"><span style="color: #000000">  });</span></div><div class="line"><span style="color: #000000">}</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/PTAEAEGcBcCcEsDG0BcoBmBDANpApgFAigCimiAFqALbwAe8AdqPJKJqHJgCbzTwB7RjlIBlUImyZIkApOlsAUgFdqAB0wAjbHlABvAqFAArVWoAUASn0BfAnblSZoACLLEAay079h0N3cPK1t7AiIwAElGSWVeRgBzTgpdTWlCeWdRNQRoXQMjOlAAXlAABgBuPwBPYrLKh2IAFWTmKoFlCVg8TFz2ZiZc2CxEXQB3CiQqajxYeLxZYmhk0Dw6NTxkPG4aeiY2Ub4qJd1ITGnQYXPpUDblWFBU-AIBmeHdLJzdVdzGbiUzbx4AA0rkCgJCxAAgmo1NgascdgxGGwBgIkik0hInGwAG7wTDhdGgRTiHqgWDKRj8aYETAwuEAWV2yPMHz4wNAAG0VOpASC3J5AQBdSyVAg6aCgWGYKozWqMPCjUBs3JWSrS2WwAB0pnUarkQkgAh0WuwAni5g1My1dBBVu1VVFYSaEzYiEwzGw8Bxug9VXGM10TBu7XuiAE3DwjzwKAI6EpyEEzDpsKqTKRkHMkYQPu4AGFoAJYGg-SDw8i4O5C7BICXGFVOSLfEZyzAKcgi5Ategi2RKOZzNGC0XrEUAHzNoygADymmMG2gWrm0Gno0YAAVYAJ1rBoFUAHJneaDtLD7XZASFvfrSzd3vkCgDy54UcT-JToyz+fILWR9BMPBN23GY93MPwPyMbNvS2M8tQvK8qnWIFwIg59kIgqcvwXJc8BXNcgJ3PcXHmRAEDUasT3wWD4MvRCOWfawAB9GJQjCsJ-UjulVRhlGwbBLFY0AnQ-GxhNAUT6iAA">Try</a></div></pre>
<p>This pattern relies less on the compiler, and more on your codebase to ensure both runtime and type-system are correctly kept in sync.</p>
<h2 id="constraints" style="position:relative;"><a href="#constraints" aria-label="constraints permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Constraints</h2>
<p>The mixin pattern is supported natively inside the TypeScript compiler by code flow analysis.
There are a few cases where you can hit the edges of the native support.</p>
<h4 id="decorators-and-mixins-4881" style="position:relative;"><a href="#decorators-and-mixins-4881" aria-label="decorators and mixins 4881 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Decorators and Mixins <a href="https://github.com/microsoft/TypeScript/issues/4881"><code>#4881</code></a></h4>
<p>You cannot use decorators to provide mixins via code flow analysis:</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #008000">// A decorator function which replicates the mixin pattern:</span></div><div class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="const Pausable: (target: typeof Player) => typeof Pausable">Pausable</data-lsp></span><span style="color: #000000"> = (</span><span style="color: #001080"><data-lsp lsp="(parameter) target: typeof Player">target</data-lsp></span><span style="color: #000000">: </span><span style="color: #0000FF">typeof</span><span style="color: #000000"> </span><span style="color: #001080"><data-lsp lsp="class Player">Player</data-lsp></span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="(local class) Pausable">Pausable</data-lsp></span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="(parameter) target: typeof Player">target</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #001080"><data-lsp lsp="(property) Pausable.shouldFreeze: boolean">shouldFreeze</data-lsp></span><span style="color: #000000"> = </span><span style="color: #0000FF">false</span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">  };</span></div><div class="line"><span style="color: #000000">};</span></div>
<div class="line"><span style="color: #000000">@</span><span style="color: #001080"><data-lsp lsp="const Pausable: (target: typeof Player) => typeof Pausable">Pausable</data-lsp></span></div><div class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Player">Player</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #001080"><data-lsp lsp="(property) Player.x: number">x</data-lsp></span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #001080"><data-lsp lsp="(property) Player.y: number">y</data-lsp></span><span style="color: #000000"> = </span><span style="color: #098658">0</span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">}</span></div>
<div class="line"><span style="color: #008000">// The Player class does not have the decorator's type merged:</span></div><div class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1"><data-lsp lsp="const player: Player">player</data-lsp></span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="constructor Player(): Player">Player</data-lsp></span><span style="color: #000000">();</span></div><div class="line"><span style="color: #001080"><data-lsp lsp="const player: Player">player</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-err><data-lsp lsp="any">shouldFreeze</data-lsp></data-err></span><span style="color: #000000">;</span></div><span class="error"><span>Property 'shouldFreeze' does not exist on type 'Player'.</span><span class="code">2339</span></span><span class="error-behind">Property 'shouldFreeze' does not exist on type 'Player'.</span>
<div class="line"><span style="color: #008000">// It the runtime aspect could be manually replicated via</span></div><div class="line"><span style="color: #008000">// type composition or interface merging.</span></div><div class="line"><span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type FreezablePlayer = Player &amp;amp; {&amp;#13;    shouldFreeze: boolean;&amp;#13;}">FreezablePlayer</data-lsp></span><span style="color: #000000"> = </span><span style="color: #267F99"><data-lsp lsp="class Player">Player</data-lsp></span><span style="color: #000000"> &amp; { </span><span style="color: #001080"><data-lsp lsp="(property) shouldFreeze: boolean">shouldFreeze</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99">boolean</span><span style="color: #000000"> };</span></div>
<div class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1"><data-lsp lsp="const playerTwo: FreezablePlayer">playerTwo</data-lsp></span><span style="color: #000000"> = (</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="constructor Player(): Player">Player</data-lsp></span><span style="color: #000000">() </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #267F99">unknown</span><span style="color: #000000">) </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="type FreezablePlayer = Player &amp;amp; {&amp;#13;    shouldFreeze: boolean;&amp;#13;}">FreezablePlayer</data-lsp></span><span style="color: #000000">;</span></div><div class="line"><span style="color: #001080"><data-lsp lsp="const playerTwo: FreezablePlayer">playerTwo</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) shouldFreeze: boolean">shouldFreeze</data-lsp></span><span style="color: #000000">;</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/PTAEAEFMA8AdIE4EsC2kB2AXAhgGwCKQDGA9gtpmQM4BQIEiC1AXKAEwDMHAnHWAIKgAJsTIUyoAGYBXdEUxIS6UAHcAFkiJrQCSLFyaKkKqExrIoFEmhJlsCpkTpmNUuiqZQABWzSq2ACNcCwBeUAAKHAQAc0hMVkwAT3gSSW9cbETEAEpQEIA+UABvGlAdOOkEZSIMqhMfP0Dg0BhHdCETKNjPErKyqjUSaVwhADFdSAAvUKk8KkgAblLQAF8ltZoacAb-IMhXWvqMrIRi5eg80AAGJbLEy5uaFc36ABVzdMzEUBrsOuESMZQOgSJ41NgAG4WMwWESkciUBAAck6yQsaBikCELjcHlA+i+pzC6EgKk+J3C2SWBJOADoBkMRuNIFNFi8wABJTwwnSyBRoUB-eDyH6MoSgALo7DoaR4XD3XT6QyOcUQpDYPimNGilCwEhUJAKJSgCS2RwISTYIjoxDRWzRWk0JLwUDMqZNSBeY7fMJewmgABkxVADOGYwm01YARIJGC0tWS1cSjxNMQrxUJEu4RJZL9FNyf1AsgA1iCVOgCyY3ZMPXnENTvQh0yR6YMw9XFkA">Try</a></div></pre>
<h4 id="static-property-mixins-17829" style="position:relative;"><a href="#static-property-mixins-17829" aria-label="static property mixins 17829 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Static Property Mixins <a href="https://github.com/microsoft/TypeScript/issues/17829"><code>#17829</code></a></h4>
<p>More of a gotcha than a constraint.
The class expression pattern creates singletons, so they can’t be mapped at the type system to support different variable types.</p>
<p>You can work around this by using functions to return your classes which differ based on a generic:</p>
<pre class="shiki   twoslash lsp" style="background-color: #FFFFFF; color: #000000"><div class="code-container"><code><div class="line"><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="function base&amp;lt;T>(): typeof Base">base</data-lsp></span><span style="color: #000000">&lt;</span><span style="color: #267F99"><data-lsp lsp="(type parameter) T in base&amp;lt;T>(): typeof Base">T</data-lsp></span><span style="color: #000000">&gt;() {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Base">Base</data-lsp></span><span style="color: #000000"> {</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #0000FF">static</span><span style="color: #000000"> </span><span style="color: #001080"><data-lsp lsp="(property) Base.prop: T">prop</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99"><data-lsp lsp="(type parameter) T in base&amp;lt;T>(): typeof Base">T</data-lsp></span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">  }</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080"><data-lsp lsp="class Base">Base</data-lsp></span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">}</span></div>
<div class="line"><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="function derived&amp;lt;T>(): typeof Derived">derived</data-lsp></span><span style="color: #000000">&lt;</span><span style="color: #267F99"><data-lsp lsp="(type parameter) T in derived&amp;lt;T>(): typeof Derived">T</data-lsp></span><span style="color: #000000">&gt;() {</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Derived">Derived</data-lsp></span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="function base&amp;lt;T>(): typeof Base">base</data-lsp></span><span style="color: #000000">&lt;</span><span style="color: #267F99"><data-lsp lsp="(type parameter) T in derived&amp;lt;T>(): typeof Derived">T</data-lsp></span><span style="color: #000000">&gt;() {</span></div><div class="line"><span style="color: #000000">    </span><span style="color: #0000FF">static</span><span style="color: #000000"> </span><span style="color: #001080"><data-lsp lsp="(property) Derived.anotherProp: T">anotherProp</data-lsp></span><span style="color: #000000">: </span><span style="color: #267F99"><data-lsp lsp="(type parameter) T in derived&amp;lt;T>(): typeof Derived">T</data-lsp></span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">  }</span></div><div class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080"><data-lsp lsp="class Derived">Derived</data-lsp></span><span style="color: #000000">;</span></div><div class="line"><span style="color: #000000">}</span></div>
<div class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99"><data-lsp lsp="class Spec">Spec</data-lsp></span><span style="color: #000000"> </span><span style="color: #0000FF">extends</span><span style="color: #000000"> </span><span style="color: #795E26"><data-lsp lsp="function derived&amp;lt;string>(): typeof Derived">derived</data-lsp></span><span style="color: #000000">&lt;</span><span style="color: #267F99">string</span><span style="color: #000000">&gt;() {}</span></div>
<div class="line"><span style="color: #001080"><data-lsp lsp="class Spec">Spec</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) Base&amp;lt;string>.prop: string">prop</data-lsp></span><span style="color: #000000">; </span><span style="color: #008000">// string</span></div><div class="line"><span style="color: #001080"><data-lsp lsp="class Spec">Spec</data-lsp></span><span style="color: #000000">.</span><span style="color: #001080"><data-lsp lsp="(property) Derived&amp;lt;string>.anotherProp: string">anotherProp</data-lsp></span><span style="color: #000000">; </span><span style="color: #008000">// string</span></div></code><a class="playground-link" href="https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAIwIYGcCmAeAKgPgAoBKRAbwChFEIAbDdRAIQ03KusXSlVgkQAOAJzgCAXIlwBuDgF8OQzFBBCkLLDPkVQkWAkQATTEJgA3TAbxFSlanQaIAIsbMXEmAB5RMYA4zRYViTsnFw8fIioYHBQABbGAAoi4pIy1PLUisqqTi7mBpoUFPbojADKApj8nt6+jEYm+djcJmAA5tbkWhVVAHTColKIAPTDYa1tFD0QvVEx8UJJgyNjLTDtQA">Try</a></div></pre></div></div><aside class="handbook-toc"><nav class=""><h5>On this page</h5><ul><li><a href="#how-does-a-mixin-work" class="">How Does A Mixin Work?</a></li><li><a href="#constrained-mixins" class="">Constrained Mixins</a></li><li><a href="#alternative-pattern" class="">Alternative Pattern</a></li><li><a href="#constraints" class="">Constraints</a></li></ul><div id="like-dislike-subnav" style="opacity: 1;"><h5>Is this page helpful?</h5><div><button title="Like this page" id="like-button"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.052 2.29429C10.3913 1.31699 11.6841 0.866721 12.4829 1.70385C12.6455 1.87427 12.8081 2.05843 12.9176 2.22265C13.2379 2.70316 13.3725 3.33595 13.4218 3.95232C13.4721 4.58045 13.438 5.25457 13.3738 5.86484C13.3093 6.47746 13.2129 7.03959 13.1328 7.44777C13.1294 7.46547 13.1259 7.48288 13.1225 7.5H14.006C15.8777 7.5 17.2924 9.19514 16.9576 11.0367L16.2737 14.7984C15.8017 17.3943 13.2078 19.0291 10.6622 18.3348L5.06251 16.8076C4.14894 16.5585 3.45455 15.8145 3.26885 14.886L2.91581 13.1208C2.63809 11.7322 3.69991 10.5624 4.82905 10.1161C5.15163 9.98861 5.44337 9.82679 5.66974 9.62597C7.37583 8.11245 7.99442 6.90287 9.05406 4.77695C9.4084 4.06605 9.77205 3.10054 10.052 2.29429ZM12.0165 7.87862L12.0169 7.87707L12.0187 7.86973L12.0262 7.83863C12.0328 7.81079 12.0426 7.76903 12.0549 7.71494C12.0793 7.60669 12.1135 7.4493 12.1515 7.25536C12.2277 6.86666 12.3188 6.33504 12.3793 5.76016C12.4401 5.18293 12.4685 4.5758 12.425 4.03206C12.3806 3.47655 12.2652 3.04684 12.0855 2.77735C12.0264 2.6887 11.9138 2.55604 11.7594 2.39421C11.5605 2.18576 11.1314 2.23428 10.9967 2.62228C10.7141 3.43609 10.3334 4.45194 9.94904 5.22305C8.88216 7.36349 8.19326 8.72408 6.33336 10.374C5.99304 10.6759 5.58878 10.8911 5.19665 11.0461C4.31631 11.3941 3.75035 12.1945 3.89639 12.9247L4.24943 14.6899C4.36085 15.247 4.77748 15.6934 5.32562 15.8428L10.9254 17.3701C12.9052 17.91 14.9227 16.6385 15.2898 14.6195L15.9738 10.8578C16.197 9.63009 15.2538 8.5 14.006 8.5H12.5015C12.3476 8.5 12.2022 8.42906 12.1074 8.30771C12.0127 8.18638 11.9792 8.02796 12.0165 7.87862C12.0165 7.87858 12.0165 7.87866 12.0165 7.87862Z"></path></svg> <!-- -->Yes</button><button title="Dislike this page" id="dislike-button"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.052 17.7057C10.3913 18.683 11.6841 19.1333 12.4829 18.2962C12.6455 18.1257 12.8081 17.9416 12.9176 17.7773C13.2379 17.2968 13.3725 16.664 13.4218 16.0477C13.4721 15.4195 13.438 14.7454 13.3738 14.1352C13.3093 13.5225 13.2129 12.9604 13.1328 12.5522C13.1294 12.5345 13.1259 12.5171 13.1225 12.5H14.006C15.8777 12.5 17.2924 10.8049 16.9576 8.96334L16.2737 5.20164C15.8017 2.60569 13.2078 0.970948 10.6622 1.66518L5.06251 3.19238C4.14894 3.44154 3.45455 4.18546 3.26885 5.11401L2.91581 6.87918C2.63809 8.26779 3.69991 9.43756 4.82905 9.88388C5.15163 10.0114 5.44337 10.1732 5.66974 10.374C7.37583 11.8875 7.99442 13.0971 9.05406 15.223C9.4084 15.9339 9.77205 16.8995 10.052 17.7057ZM12.0165 12.1214L12.0169 12.1229L12.0187 12.1303L12.0262 12.1614C12.0328 12.1892 12.0426 12.231 12.0549 12.2851C12.0793 12.3933 12.1135 12.5507 12.1515 12.7446C12.2277 13.1333 12.3188 13.665 12.3793 14.2398C12.4401 14.8171 12.4685 15.4242 12.425 15.9679C12.3806 16.5234 12.2652 16.9532 12.0855 17.2226C12.0264 17.3113 11.9138 17.444 11.7594 17.6058C11.5605 17.8142 11.1314 17.7657 10.9967 17.3777C10.7141 16.5639 10.3334 15.5481 9.94904 14.777C8.88216 12.6365 8.19326 11.2759 6.33336 9.62597C5.99304 9.32406 5.58878 9.1089 5.19665 8.9539C4.31631 8.60592 3.75035 7.80549 3.89639 7.0753L4.24943 5.31012C4.36085 4.753 4.77748 4.30664 5.32562 4.15715L10.9254 2.62995C12.9052 2.08999 14.9227 3.36145 15.2898 5.38052L15.9738 9.14222C16.197 10.3699 15.2538 11.5 14.006 11.5H12.5015C12.3476 11.5 12.2022 11.5709 12.1074 11.6923C12.0127 11.8136 11.9792 11.972 12.0165 12.1214C12.0165 12.1214 12.0165 12.1213 12.0165 12.1214Z"></path></svg> <!-- -->No</button></div></div></nav></aside></article><div class="whitespace-tight raised" style="padding:0"><div class="row justify-between small-columns"><div class="bottom-section-content"><p>The TypeScript docs are an open source project. Help us improve these pages <a href="https://github.com/microsoft/TypeScript-Website/blob/v2/packages/documentation/copy/en/reference/Mixins.md">by sending a Pull Request</a> ❤</p></div><div class="hide-small vertical-line" style="margin-top:1.5rem"></div><div class="bottom-section-content">Contributors to this page:<br><div><div class="circle-bg">OT<img id="https://avatars.githubusercontent.com/u/49038?s=100&amp;u=0b9ac5bf42a8ea2543a05191e150e0213456744e&amp;v=4" src="https://avatars.githubusercontent.com/u/49038?s=100&amp;u=0b9ac5bf42a8ea2543a05191e150e0213456744e&amp;v=4" alt="Orta Therox  (16)"></div><div class="circle-bg">L<img id="4236361db960ae4b7e2c3df43eb810b4" src="https://gravatar.com/avatar/4236361db960ae4b7e2c3df43eb810b4?s=32&amp;&amp;d=blank" alt="lemon0815  (1)"></div><div class="circle-bg">JP<img id="8110370cc4dd2e1f55a807e2a198356b" src="https://gravatar.com/avatar/8110370cc4dd2e1f55a807e2a198356b?s=32&amp;&amp;d=blank" alt="Jeff Pihach  (1)"></div><div class="circle-bg">D<img id="a4e473486a8c9536119aa66039efd0c5" src="https://gravatar.com/avatar/a4e473486a8c9536119aa66039efd0c5?s=32&amp;&amp;d=blank" alt="Davi-Danger  (1)"></div><div class="circle-bg">S<img id="29f37800f5d962f19428e63d8b3292ce" src="https://gravatar.com/avatar/29f37800f5d962f19428e63d8b3292ce?s=32&amp;&amp;d=blank" alt="sharils  (1)"></div><div class="circle-bg">1<!-- -->+</div></div></div><div class="hide-small vertical-line" style="margin-top:1.5rem"></div><div class="bottom-section-content"><p>Last updated: May 31, 2021<br><br><span id="page-loaded-time">This page loaded in 1.611 seconds.<p></p></span></p></div></div></div></div>
